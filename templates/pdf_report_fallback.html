<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nigeria Traffic Analysis Report</title>
    <style>
        @page {
            size: A4;
            margin: 1.5cm;
            @bottom-right {
                content: "Page " counter(page) " of " counter(pages);
                font-size: 10pt;
                color: #666;
            }
            @bottom-left {
                content: "© 2025 | Powered by Opygoal Technology Ltd | Developed by Oladotun Ajakaiye";
                font-size: 8pt;
                color: #666;
            }
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #1a2a6c;
            padding-bottom: 10px;
        }
        .header h1 {
            color: #1a2a6c;
            margin-bottom: 5px;
            font-size: 24pt;
        }
        .header .subtitle {
            color: #b21f1f;
            font-size: 14pt;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        .summary-item {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
        }
        .summary-item h3 {
            margin: 0;
            font-size: 14pt;
            color: #1a2a6c;
        }
        .summary-item .value {
            font-size: 18pt;
            font-weight: bold;
            margin: 10px 0;
            color: #b21f1f;
        }
        .summary-item .label {
            font-size: 10pt;
            color: #6c757d;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 10pt;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #1a2a6c;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .chart-container {
            margin: 20px 0;
            page-break-inside: avoid;
            text-align: center;
        }
        .chart-container h3 {
            color: #1a2a6c;
            margin-bottom: 10px;
        }
        .section {
            margin: 30px 0;
            page-break-inside: avoid;
        }
        .section h2 {
            color: #1a2a6c;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }
        .footer {
            text-align: center;
            font-size: 8pt;
            color: #666;
            margin-top: 30px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
        }
        .methodology {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }
        .conclusions {
            background-color: #f0f9eb;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #2ecc71;
        }
        .conclusions h3 {
            color: #1a2a6c;
            margin-top: 0;
        }
        .metric-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }
        .metric-productivity {
            background-color: rgba(52, 152, 219, 0.2);
            color: #2980b9;
        }
        .metric-fuel {
            background-color: rgba(231, 76, 60, 0.2);
            color: #c0392b;
        }
        .metric-emissions {
            background-color: rgba(46, 204, 113, 0.2);
            color: #27ae60;
        }
        .formula-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }
        .formula-basic {
            background-color: rgba(241, 196, 15, 0.2);
            color: #f39c12;
        }
        .formula-barth {
            background-color: rgba(155, 89, 182, 0.2);
            color: #8e44ad;
        }
        .formula-moves {
            background-color: rgba(52, 152, 219, 0.2);
            color: #2980b9;
        }
        .city-header {
            background-color: #1a2a6c;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0 10px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Nigeria Traffic Congestion Analysis Report</h1>
        <div class="subtitle">Comprehensive Analysis of Traffic Impact on Selected Nigerian Cities</div>
        <div>Generated on: <span id="report-date">September 9, 2025</span> at <span id="report-time">14:30</span></div>
        <div>Selected Metric: <span id="selected-metric">Productivity Loss</span> <span class="metric-badge metric-productivity">PRODUCTIVITY</span></div>
        <div>Formula Used: <span id="formula-used">Basic Formula</span> <span class="formula-badge formula-basic">BASIC</span></div>
    </div>

    <div class="section">
        <h2>Executive Summary</h2>
        <p>This report provides a comprehensive analysis of traffic congestion impacts across selected Nigerian cities. The analysis quantifies economic and environmental consequences based on the selected metric and calculation formula.</p>

        <div class="summary-grid">
            <div class="summary-item">
                <h3>CITIES ANALYZED</h3>
                <div class="value" id="cities-count">3</div>
                <div class="label">selected locations</div>
            </div>
            <div class="summary-item">
                <h3>TOTAL VEHICLES</h3>
                <div class="value" id="total-vehicles">467</div>
                <div class="label">across all cities</div>
            </div>
            <div class="summary-item">
                <h3>PEOPLE AFFECTED</h3>
                <div class="value" id="total-people">2,064</div>
                <div class="label">commutes impacted</div>
            </div>
            <div class="summary-item">
                <h3>TOTAL DELAY</h3>
                <div class="value" id="total-delay">1,720</div>
                <div class="label">hours lost</div>
            </div>
            <div class="summary-item">
                <h3>ANALYSIS IMPACT</h3>
                <div class="value" id="total-impact">₦14.2M</div>
                <div class="label">economic value</div>
            </div>
            <div class="summary-item">
                <h3>VEHICLE CLASSES</h3>
                <div class="value">5</div>
                <div class="label">distinct types</div>
            </div>
        </div>

        <p><strong>Key insight:</strong> The analysis reveals significant congestion across all analyzed cities, with total impact exceeding ₦14.2 million during the observed period.</p>
    </div>

    <div class="section methodology">
        <h2>Methodology</h2>
        <p><strong>Analysis Framework:</strong> This assessment uses vehicle-specific parameters to calculate congestion impacts:</p>
        <ul>
            <li><strong>Selected Metric:</strong> <span id="methodology-metric">Productivity Loss</span></li>
            <li><strong>Calculation Formula:</strong> <span id="methodology-formula">Basic Formula</span></li>
            <li><strong>Fuel Prices:</strong> ₦1,045/L (petrol), ₦1,210/L (diesel)</li>
            <li><strong>Emission Factors:</strong> 2.31 kg CO₂/L (petrol), 2.68 kg CO₂/L (diesel)</li>
            <li><strong>Productivity Value:</strong> ₦8.80/minute based on economic calculations</li>
            <li><strong>Corridor Length:</strong> 6.0 km average distance</li>
            <li><strong>Time Parameters:</strong> Free flow: 4.0 min, Congested: 45.0 min</li>
            <li><strong>Vehicle Classes:</strong> 5 distinct classes with specific parameters</li>
        </ul>
    </div>

    <div class="section">
        <h2>Grand Totals Across All Cities</h2>
        <table>
            <tr>
                <th>PERFORMANCE METRIC</th>
                <th>VALUE</th>
                <th>UNIT</th>
            </tr>
            <tr>
                <td>Total Cities Analyzed</td>
                <td id="cities-total">3</td>
                <td>cities</td>
            </tr>
            <tr>
                <td>Total Vehicles Observed</td>
                <td>467</td>
                <td>vehicles</td>
            </tr>
            <tr>
                <td>Total People Affected</td>
                <td>2,064</td>
                <td>people</td>
            </tr>
            <tr>
                <td>Total Delay Time</td>
                <td>1,720</td>
                <td>hours</td>
            </tr>
            <tr>
                <td>Selected Metric Impact</td>
                <td>₦14,200,000</td>
                <td>naira</td>
            </tr>
            <tr>
                <td><strong>Total Economic Impact</strong></td>
                <td><strong>₦14,200,000</strong></td>
                <td><strong>naira</strong></td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>Per-City Analysis</h2>

        <div class="city-header">Lagos</div>
        <table>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Vehicles</td>
                <td>187</td>
            </tr>
            <tr>
                <td>People Affected</td>
                <td>824</td>
            </tr>
            <tr>
                <td>Productivity Loss</td>
                <td>₦4,328,450</td>
            </tr>
            <tr>
                <td><strong>Total Impact</strong></td>
                <td><strong>₦4,328,450</strong></td>
            </tr>
        </table>

        <div class="city-header">Abuja</div>
        <table>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Vehicles</td>
                <td>154</td>
            </tr>
            <tr>
                <td>People Affected</td>
                <td>698</td>
            </tr>
            <tr>
                <td>Productivity Loss</td>
                <td>₦3,672,890</td>
            </tr>
            <tr>
                <td><strong>Total Impact</strong></td>
                <td><strong>₦3,672,890</strong></td>
            </tr>
        </table>

        <div class="city-header">Port Harcourt</div>
        <table>
            <tr>
                <th>Metric</th>
                <th>Value</th>
            </tr>
            <tr>
                <td>Vehicles</td>
                <td>126</td>
            </tr>
            <tr>
                <td>People Affected</td>
                <td>542</td>
            </tr>
            <tr>
                <td>Productivity Loss</td>
                <td>₦2,876,340</td>
            </tr>
            <tr>
                <td><strong>Total Impact</strong></td>
                <td><strong>₦2,876,340</strong></td>
            </tr>
        </table>
    </div>

    <div class="section">
        <h2>Vehicle Class Distribution</h2>
        <table>
            <tr>
                <th>Vehicle Class</th>
                <th>Description</th>
                <th>Count</th>
                <th>Percentage</th>
            </tr>
            <tr>
                <td>Class 1</td>
                <td>Motorcycles</td>
                <td>90</td>
                <td>19.3%</td>
            </tr>
            <tr>
                <td>Class 2</td>
                <td>Cars, SUVs, Sedans, Wagons, Short Buses</td>
                <td>196</td>
                <td>42.0%</td>
            </tr>
            <tr>
                <td>Class 3</td>
                <td>Coasters, Mid & Long Buses</td>
                <td>42</td>
                <td>9.0%</td>
            </tr>
            <tr>
                <td>Class 4</td>
                <td>Trucks</td>
                <td>84</td>
                <td>18.0%</td>
            </tr>
            <tr>
                <td>Class 5</td>
                <td>Tankers & Trailers</td>
                <td>55</td>
                <td>11.8%</td>
            </tr>
        </table>
    </div>

    <div class="section conclusions">
        <h2>Conclusions & Recommendations</h2>
        <h3>Key Findings</h3>
        <ul>
            <li>Lagos shows the highest congestion impact, accounting for approximately 40% of total analyzed vehicles</li>
            <li>Evening rush hour congestion affects over 2,000 commuters across the analyzed cities</li>
            <li>Total economic impact exceeds ₦14.2 million during the observed period</li>
            <li>Class 2 vehicles (Cars, SUVs, etc.) represent the largest portion of traffic at 42%</li>
            <li>Average delay per vehicle is approximately 221 minutes across all cities</li>
            <li>Analysis performed using Basic Formula for productivity loss calculations</li>
        </ul>

        <h3>Strategic Recommendations</h3>
        <ul>
            <li><strong>Immediate Interventions:</strong> Implement targeted traffic management systems in Lagos, which shows the highest congestion metrics</li>
            <li><strong>Public Transportation:</strong> Enhance alternative transportation options to reduce private vehicle numbers during peak hours</li>
            <li><strong>Infrastructure Investment:</strong> Prioritize road improvements based on specific vehicle type distributions observed</li>
            <li><strong>Policy Measures:</strong> Consider congestion pricing or staggered work hours to distribute traffic more evenly</li>
            <li><strong>Data Collection:</strong> Expand monitoring to understand daily and weekly patterns beyond current snapshot data</li>
            <li><strong>Model Selection:</strong> Consider using different formulas (Barth's or MOVES) for specific analysis needs</li>
            <li><strong>Multi-City Coordination:</strong> Develop coordinated traffic management strategies across major Nigerian cities</li>
        </ul>
    </div>

    <div class="footer">
        © 2025 | Powered by Opygoal Technology Ltd | Developed by Oladotun Ajakaiye | Service Manager & Data Analyst
    </div>

    <script>
        // Set current date and time
        document.getElementById('report-date').textContent = new Date().toLocaleDateString('en-US', {
            year: 'numeric', month: 'long', day: 'numeric'
        });

        document.getElementById('report-time').textContent = new Date().toLocaleTimeString('en-US', {
            hour: '2-digit', minute: '2-digit'
        });

        // Get URL parameters for dynamic content
        const urlParams = new URLSearchParams(window.location.search);
        const metric = urlParams.get('metric') || 'Productivity Loss';
        const formula = urlParams.get('formula') || 'Basic Formula';
        const cities = urlParams.get('cities') || 'Lagos, Abuja, Port Harcourt';
        const citiesCount = cities.split(',').length;

        // Update the report based on parameters
        document.getElementById('selected-metric').textContent = metric;
        document.getElementById('selected-metric').innerHTML += ` <span class="metric-badge ${getMetricClass(metric)}">${getMetricAbbr(metric)}</span>`;

        document.getElementById('formula-used').textContent = formula;
        document.getElementById('formula-used').innerHTML += ` <span class="formula-badge ${getFormulaClass(formula)}">${getFormulaAbbr(formula)}</span>`;

        document.getElementById('cities-count').textContent = citiesCount;
        document.getElementById('cities-total').textContent = citiesCount;

        document.getElementById('methodology-metric').textContent = metric;
        document.getElementById('methodology-formula').textContent = formula;

        // Helper functions for styling
        function getMetricClass(metric) {
            if (metric.includes('Productivity')) return 'metric-productivity';
            if (metric.includes('Fuel')) return 'metric-fuel';
            if (metric.includes('CO₂')) return 'metric-emissions';
            return 'metric-productivity';
        }

        function getMetricAbbr(metric) {
            if (metric.includes('Productivity')) return 'PRODUCTIVITY';
            if (metric.includes('Fuel')) return 'FUEL';
            if (metric.includes('CO₂')) return 'EMISSIONS';
            return 'PRODUCTIVITY';
        }

        function getFormulaClass(formula) {
            if (formula.includes('Basic')) return 'formula-basic';
            if (formula.includes('Barth')) return 'formula-barth';
            if (formula.includes('MOVES')) return 'formula-moves';
            return 'formula-basic';
        }

        function getFormulaAbbr(formula) {
            if (formula.includes('Basic')) return 'BASIC';
            if (formula.includes('Barth')) return 'BARTH';
            if (formula.includes('MOVES')) return 'MOVES';
            return 'BASIC';
        }
    </script>
</body>
</html>